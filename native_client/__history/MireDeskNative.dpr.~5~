program MireDeskNative;

uses
  Vcl.Forms,
  System.Skia,
  Vcl.Skia,
  MainForm in 'MainForm.pas' {FormMain},
  PeerJSBridge in 'PeerJSBridge.pas',
  InputUtils in 'InputUtils.pas',
  Styles in 'Styles.pas',
  UIParts in 'UIParts.pas',
  StorageUtils in 'StorageUtils.pas',
  PasswordDialog in 'PasswordDialog.pas' {FormPasswordDialog},
  ConnectionRequestForm in 'ConnectionRequestForm.pas' {FormConnectionRequest},
  MireComponents in 'MireComponents.pas',
  ResourceCache in 'ResourceCache.pas',
  ServiceUtils in 'ServiceUtils.pas',
  SessionManager in 'SessionManager.pas',
  SkiaComponents in 'SkiaComponents.pas';

{$R *.res}
{$R 'NativeResources.res' 'NativeResources.rc'}

begin
  // Extrair DLLs antes de qualquer inicialização que dependa delas (Skia, WebView2)
  ExtractEmbeddedDLLs;
  
  Application.Initialize;
  Application.MainFormOnTaskbar := True;
  Application.CreateForm(TFormMain, FormMain);
  Application.Run;
end.
